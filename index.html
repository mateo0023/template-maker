<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'"> -->
    <meta http-equiv="X-Content-Security-Policy" content="default-src 'self'; script-src 'self'">

    <title>Template Maker</title>
    <link rel="icon" href="./SolveIt Logo.png" type="image/icon type">

    <link href="./lib/quill/quill.snow.css" rel="stylesheet">
    <link rel="prefetch" as="font" href="./fonts/Celebes-Regular.woff2" type="font/woff2" crossorigin="anonymous">
    <link rel="prefetch" as="font" href="./fonts/Celebes-Bold.woff2" type="font/woff2" crossorigin="anonymous">
    <link rel="prefetch" as="font" href="./fonts/Celebes-Italic.woff2" type="font/woff2" crossorigin="anonymous">
    <link rel="preload" as="font" href="./fonts/Celebes-BoldItalic.woff2" type="font/woff2" crossorigin="anonymous">
    <link rel="stylesheet" href="./fonts.css" crossorigin="anonymous" />
    <link rel="stylesheet" href="./main.css" />

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="./lib/quill/quill.min.js"></script>
    <script src="./lib/fabric.min.js"></script>
    <script src="./lib/jszip.min.js"></script>
    <script src="./lib/FileSaver.min.js"></script>
    <script defer type="module" src="./image-processing.js"></script>
    <script defer type="module" src="./index.js"></script>
</head>

<body>
    <div class="header">
        <button id="save-progress">Save Progress</button>
        <button id="export-btn">Export Work</button>
        <button id="import-btn">Import Work</button>
        <button id="sync-zotero-btn">Zync Zotero</button>
        <button id="clr-work-btn">Delete <b>ALL</b> data</button>
    </div>
    <div id="zotero-credentials"></div>
    <div class="global-container">
        <div id="lists_container">
            <div class="articles_list_container">
                <h2>Articles</h2>
                <ul id="articles_list">
                </ul>
                <div>
                    <button id="add_art_btn">Add New Article</button>
                    <button id="remove_art">Remove Article</button>
                </div>
            </div>
            <div id="z-collection-selector-container">
                <label for="z-collection-selector">Select your Library Collection</label>
                <select name="z-collection-selector" id="z-collection-selector"></select>
            </div>
            <div>
                <p id="insta-article-selector"><span class="selected-layout">Instagram</span> <span
                        class="unselected-layout">Article</span></p>
            </div>
            <div class="instagram">
                <div id="article-description" class="my-qill"></div>
            </div>
            <div class="slides_list_container instagram">
                <h1>Slides</h1>
                <ol id="slides_list">
                </ol>
                <div>
                    <div>
                        <button id="nxt_btn">Add New Slide</button>
                        <button id="rmv_btn">Remove Slide</button>
                    </div>
                    <div>
                        <button id="move_slide_up">Move Slide Up</button>
                        <button id="move_slide_down">Move Slide Down</button>
                    </div>
                </div>
            </div>
            <div class="non-instagram hidden" style="flex: 2 1;">
                <div id="article-qill" class="my-qill"></div>
                <h3>References</h3>
                <div id="full-txt-references"></div>
            </div>
        </div>
        <div class="main instagram">
            <h2>Current Slide</h2>
            <div>
                <label for="slide_title">Title: </label>
                <input type="text" name="slide_title" id="slide_title" value="" size="45" />
            </div>
            <div id="scrolling-container">
                <div id="toolbar">
                    <span class="ql-formats">
                        <button type="button" class="ql-bold"></button>
                        <button type="button" class="ql-italic"></button>
                        <button type="button" class="ql-list" value="bullet"></button>

                        <button class="ql-script" value="sub"></button>
                        <button class="ql-script" value="super"></button>
                    </span>
                </div>
                <div id="slide_content" class="my-qill"></div>
            </div>
        </div>
        <div class="instagram">
            <h2>Image Selection and Slide Preview</h2>
            <div>
                <div>
                    <input type="checkbox" name="invert_fit" value="" id="inverse-fit-checkbox" />
                    <label for="invert_fit">Smaller fit (shrink to fit)</label>
                    <div style="padding-bottom: 5px;">Toggle "Smaller Fit" to reset the image's position and size</div>
                </div>
                <div id="hide-blurred-background-container">
                    <input type="checkbox" name="hide-blurred-background" value=""
                        id="hide-blurred-background-checkbox" />
                    <label for="hide-blurred-background">Hide blurred background</label>
                </div>
            </div>
            <p>Drag and drop images (below) to load them or <button id="image-load-btn">click here</button></p>
            <div id="canvas-container">
                <canvas src="" id="output-img" alt="" width="360px" height="450px">
                </canvas>
            </div>
        </div>
    </div>


    <div id="citaitons-dropdown" class="hidden">
        <div>
            <input type="text" placeholder="Search..." id="citation-search">
            <button id="citaitons-dropdown-close-btn">Close</button>
        </div>
        <div id="sources-container">
        </div>
    </div>

    <div id="policyNotice" class="overlay">
        <div class="title-wrap">
            <h4>Usage Policy Consent</h4>
        </div>
        <div class="content-wrap">
            <div class="msg-wrap">
                <p>This website is for internal use only!</p>
                <p>Images produced by this website are property of SolveIt News Inc.</p>
                <div class="btn-wrap">
                    <button id="acknowledge-btn">Accept</button>
                </div>
                <p>It is still in development and is designed only to functional (not visually appealing)</p>
            </div>
        </div>
    </div>

    <div id="loading-container" class="overlay">
        <div class="loader-container">
            <div class="loader"></div>
            <div class="loader-message"></div>
        </div>
    </div>
</body>

</html>